<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VistralAI - Data Flow</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState } = React;



const Component = () => {
  const [activeLayer, setActiveLayer] = useState(null);

  const layers = {
    input: {
      name: 'Data Sources',
      color: '#3B82F6',
      items: [
        { name: 'Website URL', icon: 'ğŸŒ', desc: 'Magic Import' },
        { name: 'CSV Upload', icon: 'ğŸ“„', desc: 'Product catalog' },
        { name: 'Manual Entry', icon: 'âœï¸', desc: 'Form input' },
        { name: 'OAuth Providers', icon: 'ğŸ”', desc: 'Google/GitHub' }
      ]
    },
    processing: {
      name: 'Processing Layer',
      color: '#8B5CF6',
      sections: {
        crawling: {
          name: 'Web Crawling',
          items: [
            { name: 'Firecrawl Service', icon: 'ğŸ•·ï¸' },
            { name: 'WebCrawler Fallback', icon: 'ğŸ”„' }
          ]
        },
        ai: {
          name: 'AI Processing',
          items: [
            { name: 'BrandIntelligence', icon: 'ğŸ§ ', sub: 'GPT-4o-mini' },
            { name: 'VibeCheckAgent', icon: 'âœ¨' },
            { name: 'CompetitorAgent', icon: 'ğŸ¯' },
            { name: 'PerceptionEvaluator', icon: 'âš–ï¸' }
          ]
        },
        queue: {
          name: 'Job Queue',
          items: [
            { name: 'Bull Queue', icon: 'ğŸ“‹' },
            { name: 'Redis', icon: 'âš¡' }
          ]
        }
      }
    },
    storage: {
      name: 'Data Storage',
      color: '#22C55E',
      items: [
        { name: 'users', icon: 'ğŸ‘¤' },
        { name: 'brand_profiles', icon: 'ğŸ¢' },
        { name: 'brand360_profiles', icon: 'ğŸ¯' },
        { name: 'products', icon: 'ğŸ“¦' },
        { name: 'perception_scans', icon: 'ğŸ“ˆ' },
        { name: 'ai_perception_results', icon: 'ğŸ¤–' }
      ]
    },
    output: {
      name: 'Output',
      color: '#F59E0B',
      items: [
        { name: 'Dashboard UI', icon: 'ğŸ“Š' },
        { name: 'Reports', icon: 'ğŸ“„' },
        { name: 'API Response', icon: 'ğŸ”Œ' }
      ]
    }
  };

  return (
    <div style={{ minHeight: '100vh', background: 'linear-gradient(180deg, #0C0F1A 0%, #131825 50%, #0C0F1A 100%)', padding: '24px 16px', fontFamily: "'Inter', -apple-system, BlinkMacSystemFont, sans-serif" }}>
      <div style={{ textAlign: 'center', marginBottom: '24px' }}>
        <h1 style={{ fontSize: '24px', fontWeight: '700', color: '#F8FAFC', margin: '0 0 6px 0' }}>VistralAI Data Flow</h1>
        <p style={{ fontSize: '12px', color: '#64748B', margin: 0 }}>From data sources through processing to output</p>
      </div>

      <div style={{ maxWidth: '1400px', margin: '0 auto' }}>
        <div style={{ display: 'flex', gap: '12px', alignItems: 'stretch' }}>
          
          {/* Input Layer */}
          <div style={{ flex: '0 0 180px', background: `${layers.input.color}10`, borderRadius: '12px', border: `2px solid ${layers.input.color}40`, padding: '12px' }}>
            <div style={{ color: layers.input.color, fontSize: '11px', fontWeight: '700', marginBottom: '12px', textAlign: 'center' }}>{layers.input.name}</div>
            {layers.input.items.map((item, idx) => (
              <div key={idx} style={{ background: '#0F172A', borderRadius: '8px', padding: '10px', marginBottom: '8px', border: '1px solid #334155' }}>
                <div style={{ fontSize: '20px', textAlign: 'center', marginBottom: '4px' }}>{item.icon}</div>
                <div style={{ color: '#E2E8F0', fontSize: '10px', fontWeight: '600', textAlign: 'center' }}>{item.name}</div>
                <div style={{ color: '#64748B', fontSize: '8px', textAlign: 'center' }}>{item.desc}</div>
              </div>
            ))}
          </div>

          {/* Arrow */}
          <div style={{ display: 'flex', alignItems: 'center' }}>
            <svg width="40" height="20"><line x1="0" y1="10" x2="30" y2="10" stroke="#475569" strokeWidth="2" /><polygon points="30,5 40,10 30,15" fill="#475569" /></svg>
          </div>

          {/* Processing Layer */}
          <div style={{ flex: 1, background: `${layers.processing.color}10`, borderRadius: '12px', border: `2px solid ${layers.processing.color}40`, padding: '12px' }}>
            <div style={{ color: layers.processing.color, fontSize: '11px', fontWeight: '700', marginBottom: '12px', textAlign: 'center' }}>{layers.processing.name}</div>
            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '10px' }}>
              {Object.entries(layers.processing.sections).map(([key, section]) => (
                <div key={key} style={{ background: '#0F172A', borderRadius: '8px', padding: '10px', border: '1px solid #334155' }}>
                  <div style={{ color: '#A78BFA', fontSize: '9px', fontWeight: '600', marginBottom: '8px', textAlign: 'center' }}>{section.name}</div>
                  {section.items.map((item, idx) => (
                    <div key={idx} style={{ background: '#1E293B', borderRadius: '4px', padding: '6px', marginBottom: '4px', display: 'flex', alignItems: 'center', gap: '6px' }}>
                      <span style={{ fontSize: '14px' }}>{item.icon}</span>
                      <div>
                        <div style={{ color: '#E2E8F0', fontSize: '9px', fontWeight: '500' }}>{item.name}</div>
                        {item.sub && <div style={{ color: '#64748B', fontSize: '7px' }}>{item.sub}</div>}
                      </div>
                    </div>
                  ))}
                </div>
              ))}
            </div>
          </div>

          {/* Arrow */}
          <div style={{ display: 'flex', alignItems: 'center' }}>
            <svg width="40" height="20"><line x1="0" y1="10" x2="30" y2="10" stroke="#475569" strokeWidth="2" /><polygon points="30,5 40,10 30,15" fill="#475569" /></svg>
          </div>

          {/* Storage Layer */}
          <div style={{ flex: '0 0 200px', background: `${layers.storage.color}10`, borderRadius: '12px', border: `2px solid ${layers.storage.color}40`, padding: '12px' }}>
            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '6px', marginBottom: '12px' }}>
              <span style={{ fontSize: '16px' }}>ğŸƒ</span>
              <span style={{ color: layers.storage.color, fontSize: '11px', fontWeight: '700' }}>MongoDB</span>
            </div>
            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '6px' }}>
              {layers.storage.items.map((item, idx) => (
                <div key={idx} style={{ background: '#0F172A', borderRadius: '6px', padding: '8px', border: '1px solid #334155', textAlign: 'center' }}>
                  <span style={{ fontSize: '16px' }}>{item.icon}</span>
                  <div style={{ color: '#4ADE80', fontSize: '8px', fontWeight: '500' }}>{item.name}</div>
                </div>
              ))}
            </div>
          </div>

          {/* Arrow */}
          <div style={{ display: 'flex', alignItems: 'center' }}>
            <svg width="40" height="20"><line x1="0" y1="10" x2="30" y2="10" stroke="#475569" strokeWidth="2" /><polygon points="30,5 40,10 30,15" fill="#475569" /></svg>
          </div>

          {/* Output Layer */}
          <div style={{ flex: '0 0 140px', background: `${layers.output.color}10`, borderRadius: '12px', border: `2px solid ${layers.output.color}40`, padding: '12px' }}>
            <div style={{ color: layers.output.color, fontSize: '11px', fontWeight: '700', marginBottom: '12px', textAlign: 'center' }}>{layers.output.name}</div>
            {layers.output.items.map((item, idx) => (
              <div key={idx} style={{ background: '#0F172A', borderRadius: '8px', padding: '12px', marginBottom: '8px', border: '1px solid #334155', textAlign: 'center' }}>
                <span style={{ fontSize: '20px' }}>{item.icon}</span>
                <div style={{ color: '#E2E8F0', fontSize: '10px', fontWeight: '600' }}>{item.name}</div>
              </div>
            ))}
          </div>
        </div>

        {/* Flow Legend */}
        <div style={{ marginTop: '20px', background: '#1A1F2E', borderRadius: '10px', padding: '16px' }}>
          <div style={{ color: '#94A3B8', fontSize: '10px', fontWeight: '600', marginBottom: '10px' }}>DATA FLOW CONNECTIONS</div>
          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '8px' }}>
            {[
              { from: 'URL', to: 'Firecrawl', arrow: 'â†’', desc: 'Web scraping' },
              { from: 'Firecrawl', to: 'BrandIntelligence', arrow: 'â†’', desc: 'Raw content' },
              { from: 'BrandIntelligence', to: 'brand360_profiles', arrow: 'â†’', desc: 'Structured data' },
              { from: 'CSV', to: 'products', arrow: 'â†’', desc: 'Direct import' },
              { from: 'OAuth', to: 'users', arrow: 'â†’', desc: 'Auth data' },
              { from: 'PerceptionEvaluator', to: 'ai_perception_results', arrow: 'â†’', desc: 'Scores' }
            ].map((flow, idx) => (
              <div key={idx} style={{ background: '#0F172A', borderRadius: '6px', padding: '8px', display: 'flex', alignItems: 'center', gap: '8px' }}>
                <span style={{ color: '#3B82F6', fontSize: '9px', fontWeight: '600' }}>{flow.from}</span>
                <span style={{ color: '#475569' }}>{flow.arrow}</span>
                <span style={{ color: '#22C55E', fontSize: '9px', fontWeight: '600' }}>{flow.to}</span>
                <span style={{ color: '#64748B', fontSize: '8px', marginLeft: 'auto' }}>{flow.desc}</span>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  );
};

    ReactDOM.createRoot(document.getElementById("root")).render(<Component />);
  </script>
</body>
</html>
