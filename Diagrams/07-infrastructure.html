<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VistralAI - Infrastructure</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState } = React;



const Component = () => {
  const [activeEnv, setActiveEnv] = useState('production');

  const environments = [
    { id: 'local', name: 'Local Dev', color: '#22C55E' },
    { id: 'production', name: 'Production (GCP)', color: '#3B82F6' }
  ];

  return (
    <div style={{ minHeight: '100vh', background: 'linear-gradient(180deg, #0C0F1A 0%, #131825 50%, #0C0F1A 100%)', padding: '24px 16px', fontFamily: "'Inter', -apple-system, BlinkMacSystemFont, sans-serif" }}>
      <div style={{ textAlign: 'center', marginBottom: '20px' }}>
        <h1 style={{ fontSize: '24px', fontWeight: '700', color: '#F8FAFC', margin: '0 0 6px 0' }}>VistralAI Infrastructure</h1>
        <p style={{ fontSize: '12px', color: '#64748B', margin: '0 0 16px 0' }}>Deployment Architecture & CI/CD Pipeline</p>
        
        <div style={{ display: 'flex', justifyContent: 'center', gap: '8px' }}>
          {environments.map((env) => (
            <button key={env.id} onClick={() => setActiveEnv(env.id)} style={{ background: activeEnv === env.id ? `${env.color}20` : '#1A1F2E', border: `2px solid ${activeEnv === env.id ? env.color : '#334155'}`, borderRadius: '8px', padding: '8px 16px', cursor: 'pointer' }}>
              <span style={{ color: activeEnv === env.id ? env.color : '#94A3B8', fontSize: '11px', fontWeight: '600' }}>{env.name}</span>
            </button>
          ))}
        </div>
      </div>

      <div style={{ maxWidth: '1400px', margin: '0 auto' }}>
        {activeEnv === 'production' && (
          <div>
            {/* Developer Environment */}
            <div style={{ display: 'flex', justifyContent: 'center', marginBottom: '12px' }}>
              <div style={{ background: '#1A1F2E', borderRadius: '10px', padding: '16px 32px', border: '1px solid #334155', display: 'flex', alignItems: 'center', gap: '16px' }}>
                <div style={{ textAlign: 'center' }}>
                  <span style={{ fontSize: '24px' }}>üíª</span>
                  <div style={{ color: '#E2E8F0', fontSize: '11px', fontWeight: '600' }}>Source Code</div>
                </div>
                <svg width="30" height="12"><line x1="0" y1="6" x2="20" y2="6" stroke="#475569" strokeWidth="2" /><polygon points="20,2 30,6 20,10" fill="#475569" /></svg>
                <div style={{ textAlign: 'center' }}>
                  <span style={{ fontSize: '24px' }}>üì¶</span>
                  <div style={{ color: '#E2E8F0', fontSize: '11px', fontWeight: '600' }}>Git Repository</div>
                </div>
              </div>
            </div>

            <div style={{ display: 'flex', justifyContent: 'center', marginBottom: '12px' }}>
              <svg width="2" height="24"><line x1="1" y1="0" x2="1" y2="24" stroke="#475569" strokeWidth="2" /></svg>
            </div>

            {/* CI/CD Pipeline */}
            <div style={{ background: '#F59E0B10', borderRadius: '12px', border: '2px solid #F59E0B40', padding: '16px', marginBottom: '12px' }}>
              <div style={{ color: '#F59E0B', fontSize: '11px', fontWeight: '700', marginBottom: '12px', textAlign: 'center' }}>CI/CD PIPELINE (Cloud Build)</div>
              <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', gap: '16px', flexWrap: 'wrap' }}>
                {[
                  { name: 'Cloud Build', icon: 'üîß', desc: 'Trigger on push' },
                  { name: 'Run Tests', icon: 'üß™', desc: 'Jest + Playwright' },
                  { name: 'Build Docker', icon: 'üê≥', desc: 'Multi-stage build' },
                  { name: 'Push to GCR', icon: 'üì§', desc: 'Container Registry' }
                ].map((step, idx, arr) => (
                  <React.Fragment key={step.name}>
                    <div style={{ background: '#0F172A', borderRadius: '8px', padding: '12px 16px', textAlign: 'center', minWidth: '110px' }}>
                      <span style={{ fontSize: '20px' }}>{step.icon}</span>
                      <div style={{ color: '#FBBF24', fontSize: '10px', fontWeight: '600' }}>{step.name}</div>
                      <div style={{ color: '#64748B', fontSize: '8px' }}>{step.desc}</div>
                    </div>
                    {idx < arr.length - 1 && (
                      <svg width="24" height="12"><line x1="0" y1="6" x2="18" y2="6" stroke="#F59E0B" strokeWidth="2" /><polygon points="18,2 24,6 18,10" fill="#F59E0B" /></svg>
                    )}
                  </React.Fragment>
                ))}
              </div>
            </div>

            <div style={{ display: 'flex', justifyContent: 'center', marginBottom: '12px' }}>
              <svg width="2" height="24"><line x1="1" y1="0" x2="1" y2="24" stroke="#475569" strokeWidth="2" /></svg>
            </div>

            {/* Production Environment */}
            <div style={{ background: '#3B82F610', borderRadius: '12px', border: '2px solid #3B82F640', padding: '16px' }}>
              <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '8px', marginBottom: '16px' }}>
                <div style={{ width: '24px', height: '24px', background: 'linear-gradient(135deg, #4285F4 25%, #34A853 25%, #34A853 50%, #FBBC05 50%, #FBBC05 75%, #EA4335 75%)', borderRadius: '4px' }} />
                <span style={{ color: '#3B82F6', fontSize: '13px', fontWeight: '700' }}>PRODUCTION ENVIRONMENT (GCP)</span>
              </div>

              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '12px' }}>
                {/* Cloud Run Services */}
                <div style={{ background: '#0F172A', borderRadius: '8px', padding: '12px', border: '1px solid #334155' }}>
                  <div style={{ color: '#60A5FA', fontSize: '10px', fontWeight: '600', marginBottom: '8px' }}>CLOUD RUN SERVICES</div>
                  {[
                    { name: 'VistralAI Service', region: 'us-central1', instances: '0-20', specs: '2Gi/2CPU' },
                    { name: 'Firecrawl Service', region: 'us-central1', instances: '0-10', specs: '1Gi/1CPU' }
                  ].map((svc, idx) => (
                    <div key={idx} style={{ background: '#1E293B', borderRadius: '6px', padding: '8px', marginBottom: '6px' }}>
                      <div style={{ color: '#E2E8F0', fontSize: '10px', fontWeight: '600' }}>‚òÅÔ∏è {svc.name}</div>
                      <div style={{ color: '#64748B', fontSize: '8px' }}>{svc.region} ‚Ä¢ {svc.instances} instances</div>
                      <div style={{ color: '#64748B', fontSize: '8px' }}>{svc.specs}</div>
                    </div>
                  ))}
                </div>

                {/* Networking */}
                <div style={{ background: '#0F172A', borderRadius: '8px', padding: '12px', border: '1px solid #334155' }}>
                  <div style={{ color: '#60A5FA', fontSize: '10px', fontWeight: '600', marginBottom: '8px' }}>NETWORKING</div>
                  {[
                    { name: 'Cloud Load Balancer', icon: '‚öñÔ∏è' },
                    { name: 'VPC Connector', icon: 'üîó' },
                    { name: 'Firewall Rules', icon: 'üõ°Ô∏è' }
                  ].map((item, idx) => (
                    <div key={idx} style={{ background: '#1E293B', borderRadius: '6px', padding: '6px 8px', marginBottom: '4px', display: 'flex', alignItems: 'center', gap: '6px' }}>
                      <span style={{ fontSize: '12px' }}>{item.icon}</span>
                      <span style={{ color: '#E2E8F0', fontSize: '9px' }}>{item.name}</span>
                    </div>
                  ))}
                </div>

                {/* Data Services */}
                <div style={{ background: '#0F172A', borderRadius: '8px', padding: '12px', border: '1px solid #334155' }}>
                  <div style={{ color: '#60A5FA', fontSize: '10px', fontWeight: '600', marginBottom: '8px' }}>DATA SERVICES</div>
                  {[
                    { name: 'Memorystore (Redis 7.0)', icon: 'üì¶', desc: '1GB' },
                    { name: 'Secret Manager', icon: 'üîí', desc: 'API keys, DB creds' }
                  ].map((item, idx) => (
                    <div key={idx} style={{ background: '#1E293B', borderRadius: '6px', padding: '6px 8px', marginBottom: '4px' }}>
                      <div style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>
                        <span style={{ fontSize: '12px' }}>{item.icon}</span>
                        <span style={{ color: '#E2E8F0', fontSize: '9px' }}>{item.name}</span>
                      </div>
                      <div style={{ color: '#64748B', fontSize: '7px', marginLeft: '18px' }}>{item.desc}</div>
                    </div>
                  ))}
                </div>

                {/* Monitoring */}
                <div style={{ background: '#0F172A', borderRadius: '8px', padding: '12px', border: '1px solid #334155' }}>
                  <div style={{ color: '#60A5FA', fontSize: '10px', fontWeight: '600', marginBottom: '8px' }}>MONITORING</div>
                  {[
                    { name: 'Cloud Logging', icon: 'üìä' },
                    { name: 'Cloud Monitoring', icon: 'üìà' },
                    { name: 'Alerting', icon: 'üö®' }
                  ].map((item, idx) => (
                    <div key={idx} style={{ background: '#1E293B', borderRadius: '6px', padding: '6px 8px', marginBottom: '4px', display: 'flex', alignItems: 'center', gap: '6px' }}>
                      <span style={{ fontSize: '12px' }}>{item.icon}</span>
                      <span style={{ color: '#E2E8F0', fontSize: '9px' }}>{item.name}</span>
                    </div>
                  ))}
                </div>
              </div>
            </div>

            {/* External Services */}
            <div style={{ marginTop: '16px', background: '#EC489910', borderRadius: '12px', border: '2px solid #EC489940', padding: '16px' }}>
              <div style={{ color: '#EC4899', fontSize: '11px', fontWeight: '700', marginBottom: '12px', textAlign: 'center' }}>EXTERNAL SERVICES</div>
              <div style={{ display: 'flex', justifyContent: 'center', gap: '16px', flexWrap: 'wrap' }}>
                {[
                  { name: 'MongoDB Atlas', icon: 'üçÉ', color: '#22C55E' },
                  { name: 'OpenAI API', icon: 'ü§ñ', color: '#10B981' },
                  { name: 'Anthropic API', icon: 'üß†', color: '#EA580C' },
                  { name: 'Stripe API', icon: 'üí≥', color: '#6366F1' }
                ].map((svc) => (
                  <div key={svc.name} style={{ background: '#0F172A', borderRadius: '8px', padding: '12px 20px', textAlign: 'center', border: `1px solid ${svc.color}40` }}>
                    <span style={{ fontSize: '20px' }}>{svc.icon}</span>
                    <div style={{ color: svc.color, fontSize: '10px', fontWeight: '600' }}>{svc.name}</div>
                  </div>
                ))}
              </div>
            </div>
          </div>
        )}

        {activeEnv === 'local' && (
          <div style={{ background: '#22C55E10', borderRadius: '12px', border: '2px solid #22C55E40', padding: '20px' }}>
            <div style={{ color: '#22C55E', fontSize: '13px', fontWeight: '700', marginBottom: '16px', textAlign: 'center' }}>LOCAL DEVELOPMENT (Docker Compose)</div>
            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(180px, 1fr))', gap: '12px' }}>
              {[
                { name: 'Next.js App', port: '3000', icon: '‚ñ≤', color: '#000' },
                { name: 'MongoDB', port: '27017', icon: 'üçÉ', color: '#22C55E' },
                { name: 'Redis', port: '6379', icon: '‚ö°', color: '#DC2626' },
                { name: 'Firecrawl', port: '3002', icon: 'üï∑Ô∏è', color: '#F97316' },
                { name: 'PostgreSQL', port: '5432', icon: 'üêò', color: '#336791' },
                { name: 'RabbitMQ', port: '5672', icon: 'üê∞', color: '#FF6600' },
                { name: 'Playwright', port: '3001', icon: 'üé≠', color: '#2EAD33' },
                { name: 'Mongo Express', port: '8081', icon: 'üñ•Ô∏è', color: '#10B981' }
              ].map((svc) => (
                <div key={svc.name} style={{ background: '#0F172A', borderRadius: '8px', padding: '12px', textAlign: 'center', border: `1px solid ${svc.color}40` }}>
                  <span style={{ fontSize: '24px' }}>{svc.icon}</span>
                  <div style={{ color: '#E2E8F0', fontSize: '11px', fontWeight: '600' }}>{svc.name}</div>
                  <div style={{ color: '#64748B', fontSize: '9px' }}>Port: {svc.port}</div>
                </div>
              ))}
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

    ReactDOM.createRoot(document.getElementById("root")).render(<Component />);
  </script>
</body>
</html>
